-- 사용자 계정 생성
CREATE USER c##INIT IDENTIFIED BY INIT;

-- 접속 권한 및 테이블 생성 권한 부여
GRANT CONNECT, RESOURCE TO c##INIT;

-- 테이블스페이스 설정
ALTER USER C##INIT DEFAULT TABLESPACE USERS QUOTA UNLIMITED ON USERS;

CREATE TABLE TEACHER (
    TEACHER_ID NUMBER NOT NULL PRIMARY KEY,
    NAME VARCHAR2(30) NOT NULL,
    EMAIL VARCHAR2(50) NOT NULL UNIQUE,
    HIRE_DATE DATE ,
    SUBJECT VARCHAR2(20)    
);
INSERT INTO TEACHER VALUES(1, '강민철','AAA@gmail.com',' 25/08/07', '국어' );
INSERT INTO TEACHER VALUES(2, '현우진','BBB@gmail.com',' 25/08/07', '수학' );
INSERT INTO TEACHER VALUES(3, '조정식','CCC@gmail.com',' 25/08/07', '영어' );
INSERT INTO TEACHER VALUES(4, '이다지','DDD@gmail.com',' 25/08/07', '한국사' );
INSERT INTO TEACHER VALUES(5, '이기상','EEE@gmail.com',' 25/08/07', '사회' );

CREATE TABLE LECTURE (
    LECTURE_ID NUMBER NOT NULL PRIMARY KEY,
    TITLE VARCHAR2(100) NOT NULL,
    TEACHER_ID NUMBER REFERENCES TEACHER,
    INDEX_COUNT NUMBER DEFAULT 0,
    CATEGORY VARCHAR2(20),
    START_DATE DATE,
    END_DATE DATE
);
INSERT INTO LECTURE VALUES(10, '국어기초',1, 10, '국어', ' 25/08/07', '26/08/07' );
INSERT INTO LECTURE VALUES(11, '수학기초',1, 10, '수학', ' 25/08/07', '26/08/07' );
INSERT INTO LECTURE VALUES(12, '영어기초',1, 10, '영어', ' 25/08/07', '26/08/07' );
INSERT INTO LECTURE VALUES(13, '한국사기초',1, 10, '한국사', ' 25/08/07', '26/08/07' );
INSERT INTO LECTURE VALUES(14, '사회기초',1, 10, '사회', ' 25/08/07', '26/08/07' );

CREATE TABLE STUDENT(
    STUDENT_ID NUMBER NOT NULL PRIMARY KEY,
    NAME VARCHAR2(20) NOT NULL,
    GRADE NUMBER NOT NULL,
    EMAIL VARCHAR2(50),
    JOIN_DATE DATE
);

INSERT INTO STUDENT VALUES(100, '신한서',1, 'AAA@naver.com', ' 25/08/07' );
INSERT INTO STUDENT VALUES(101, '신한비',2, 'BBB@naver.com', ' 25/08/07' );
INSERT INTO STUDENT VALUES(102, '신한나',3, 'CCC@naver.com', ' 25/08/07' );
INSERT INTO STUDENT VALUES(103, '신한사',4, 'DDD@naver.com', ' 25/08/07' );
INSERT INTO STUDENT VALUES(104, '신한오',1, 'EEE@naver.com', ' 25/08/07' );
INSERT INTO STUDENT VALUES(1001, '신한육',1, 'FFF@naver.com', ' 25/08/07' );

DROP TABLE ENROLLMENT;

CREATE TABLE ENROLLMENT(
    ENROLLMENT_ID NUMBER NOT NULL PRIMARY KEY,
    STUDENT_ID NUMBER REFERENCES STUDENT,
    LECTURE_ID NUMBER REFERENCES LECTURE,
    ENROLL_DATE DATE,
    STATUS CHAR(1) CHECK(STATUS IN ('Y', 'N')),
    GRADE_SCORE NUMBER
);

INSERT INTO ENROLLMENT VALUES(1000, 100, 10, ' 25/08/07', 'Y', 85 );
INSERT INTO ENROLLMENT VALUES(1001, 101, 11, ' 25/08/07', 'N', NULL );
INSERT INTO ENROLLMENT VALUES(1002, 102, 12, ' 25/08/07', 'Y', 75 );
INSERT INTO ENROLLMENT VALUES(1003, 103, 13, ' 25/08/07', 'N', NULL );
INSERT INTO ENROLLMENT VALUES(1004, 104, 14, ' 25/08/07', 'Y', 85 );
INSERT INTO ENROLLMENT VALUES(1005, 1001, 10, ' 25/08/07', 'Y', 65 );




